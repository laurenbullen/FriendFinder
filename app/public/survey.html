<!DOCTYPE html>

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
       <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    </head>
    <body>
       <div class="container">
           <h2>Survey Questions</h2>
           <hr>
           <h3><strong>About You</strong></h3>
           <p>Please answer the questions below to the best of your ability</p>
           <h4>Name (Required)</h4>
           <input type="text" name="" id="name" class="form-control" required>
           <h4>Link to Photo(Required)</h4>
           <input type="text" name="" id="photo" class="form-control" required>
           <hr>
           <div id="friend-form">
               <div class="form-group">
                   <h3>Question 1</h3>
                   <label for="q1" class="control-label">
                       Generally speaking, you consider yourself to be an outgoing person.
                   </label>
                   <div>
                       <select class="form-control" id="q1">
                           <option value="" selected disabled>Choose</option>
                           <option value="1">1 (Strongly Disagree)</option>
                           <option value="2">2</option>
                           <option value="2">3</option>
                           <option value="2">4</option>
                           <option value="2">5 (Strongly Agree)</option>
                       </select>
                   </div>
               </div>
               <div class="form-group">
                <h3>Question 2</h3>
                <label for="q2" class="control-label">
                    You would rather stay in on a weekend night and watch Netflix than go out to a nightclub. 
                </label>
                <div>
                    <select class="form-control" id="q2">
                        <option value="" selected disabled>Choose</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="2">3</option>
                        <option value="2">4</option>
                        <option value="2">5 (Strongly Agree)</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <h3>Question 3</h3>
                <label for="q3" class="control-label">
                    You prefer being outdoors instead of inside.
                </label>
                <div>
                    <select class="form-control" id="q3">
                        <option value="" selected disabled>Choose</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="2">3</option>
                        <option value="2">4</option>
                        <option value="2">5 (Strongly Agree)</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <h3>Question 4</h3>
                <label for="q4" class="control-label">
                    You are cool under pressure and don't let stress get to you.
                </label>
                <div>
                    <select class="form-control" id="q4">
                        <option value="" selected disabled>Choose</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="2">3</option>
                        <option value="2">4</option>
                        <option value="2">5 (Strongly Agree)</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <h3>Question 5</h3>
                <label for="q5" class="control-label">
                    You use your imagination often and consider yourself to be a curious person.
                </label>
                <div>
                    <select class="form-control" id="q5">
                        <option value="" selected disabled>Choose</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="2">3</option>
                        <option value="2">4</option>
                        <option value="2">5 (Strongly Agree)</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <h3>Question 6</h3>
                <label for="q6" class="control-label">
                    You would rather spend your money on travel than material objects.
                </label>
                <div>
                    <select class="form-control" id="q6">
                        <option value="" selected disabled>Choose</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="2">3</option>
                        <option value="2">4</option>
                        <option value="2">5 (Strongly Agree)</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <h3>Question 7</h3>
                <label for="q7" class="control-label">
                    You regularly incorporate exercise into your daily routine.
                </label>
                <div>
                    <select class="form-control" id="q7">
                        <option value="" selected disabled>Choose</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="2">3</option>
                        <option value="2">4</option>
                        <option value="2">5 (Strongly Agree)</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <h3>Question 8</h3>
                <label for="q8" class="control-label">
                    It's easy for you to get along with many different types of people.
                </label>
                <div>
                    <select class="form-control" id="q8">
                        <option value="" selected disabled>Choose</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="2">3</option>
                        <option value="2">4</option>
                        <option value="2">5 (Strongly Agree)</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <h3>Question 9</h3>
                <label for="q9" class="control-label">
                    You enjoy meeting and getting to know new people.
                </label>
                <div>
                    <select class="form-control" id="q9">
                        <option value="" selected disabled>Choose</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="2">3</option>
                        <option value="2">4</option>
                        <option value="2">5 (Strongly Agree)</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <h3>Question 10</h3>
                <label for="q10" class="control-label">
                    You believe a person can never have too many friends!
                </label>
                <div>
                    <select class="form-control" id="q10">
                        <option value="" selected disabled>Choose</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="2">3</option>
                        <option value="2">4</option>
                        <option value="2">5 (Strongly Agree)</option>
                    </select>
                </div>
            </div>
           </div>
           <div id="friend-modal" class="modal">
               <div class="modal-dialog">
                   <div class="modal-header">
                       <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                       <h4 class="modal-title">Best Friend Match</h4>
                   </div>
                   <div class="modal-body text-center">
                       <h4 id="match-name"></h4>
                       <img id="match-image" src="https://media.licdn.com/mpr/mpr/shrinknp_400_400/p/6/005/064/1bd/3435aa3.jpg"
                     alt="">
                   </div>
                   <div class="modal-footer">
                       <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                   </div>
               </div>
           </div>
           <button type="submit" class="btn btn-danger btn-lg btn-block" id="submit">Submit</button>
           <br>
           <a href="/"><button type="button" class="btn btn-primary">Return Home</button></a>
           <footer class="footer">
               <p>
                   <a href="/api/friends">API Friends List</a> | <a href="https://github.com/laurenbullen/FriendFinder">GitHub Repo</a>
               </p>
           </footer>
       </div>
        
        <script type="text/javascript">
        $("#submit").on("click", function(event){
            event.preventDefault();

            var validate = function(){
                var isValid = true;
                $(".form-control").each(function(){
                    if($(this).val() === ""){
                        isValid = false
                    }
                })
                return isValid
            }
            if(validate()){
                var userData = {
                    name: $("#name").val(),
                    photo: $("#photo").val(),
                    scores: [
                    $("#q1").val(),
                    $("#q2").val(),
                    $("#q3").val(),
                    $("#q4").val(),
                    $("#q5").val(),
                    $("#q6").val(),
                    $("#q7").val(),
                    $("#q8").val(),
                    $("#q9").val(),
                    $("#q10").val()
                    ]

                };
                $.post("/api/friends", userData, function(data){
                    $("#match-name").text(data.name)
                    $("#match-image").attr("src", data.photo)
                    $("friend-modal").modal("toggle", )
                })
            } else{
                alert("Please fill out all fields.")
            }
        })
        </script>
    </body>
</html>